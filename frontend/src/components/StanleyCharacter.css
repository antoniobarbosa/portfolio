.stanley-character {
  position: fixed;
  width: 260px;
  height: 260px;
  cursor: grab;
  z-index: 1000;
  user-select: none;
  pointer-events: auto;
  transition: transform 0.1s ease-out;
}

.stanley-character:hover {
  transform: scale(1.05);
}

.stanley-character.dragging {
  cursor: grabbing;
  transform: scale(1.1);
  z-index: 1001;
}

.stanley-body {
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
  position: absolute;
  top: 0;
  left: 0;
}

.stanley-eyes {
  width: 100%;
  height: 100%;
  pointer-events: none;
  position: absolute;
  top: -25px;
  left: 0;
  z-index: 1;
}

.stanley-character .eye {
  transition: ry 0.15s ease-out;
}

/* Estados e Animações */
.stanley-character.state-hidden {
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
}

.stanley-character.state-appearing {
  animation: appear 0.5s ease-out forwards;
}

.stanley-character.state-idle {
  animation: idle 2s ease-in-out infinite;
}

.stanley-character.state-talking {
  animation: talking 0.3s ease-in-out infinite;
}

.stanley-character.state-disappearing {
  animation: disappear 0.5s ease-in forwards;
}

.stanley-character.state-excited {
  animation: excited 0.5s ease-in-out infinite;
}

.stanley-character.state-thinking {
  animation: thinking 1s ease-in-out infinite;
}

.stanley-character.state-angry {
  animation: angry 0.4s ease-in-out infinite;
}

/* Animações dos olhos baseadas no estado */
.stanley-character.state-talking .eye-group {
  animation: eyeTalk 0.2s ease-in-out infinite;
}

.stanley-character.state-excited .eye-group {
  animation: eyeExcited 0.3s ease-in-out infinite;
}

.stanley-character.state-thinking .eye-group {
  animation: eyeThink 1s ease-in-out infinite;
}

.stanley-character.state-angry .eye-group {
  animation: eyeAngry 0.3s ease-in-out infinite;
}

/* Garante que as pupilas acompanham os olhos */
.eye-group {
  transform-origin: center;
}

.eye-group .eye {
  transform-origin: center;
}

/* Sobrancelhas */
.eyebrow-group {
  transform-origin: center;
  transition: all 0.3s ease-out;
}

.eyebrow {
  transform-box: fill-box;
  transform-origin: center;
  transition: transform 0.3s ease-out;
}

/* Animações das sobrancelhas baseadas no estado - aplicadas apenas no path, não no grupo */
.stanley-character.state-angry .eyebrow-left-path {
  animation: eyebrowAngry 0.3s ease-in-out infinite;
}

.stanley-character.state-angry .eyebrow-right-path {
  animation: eyebrowAngryRight 0.3s ease-in-out infinite;
}

.stanley-character.state-excited .eyebrow-left-path {
  animation: eyebrowExcited 0.5s ease-in-out infinite;
}

.stanley-character.state-excited .eyebrow-right-path {
  animation: eyebrowExcitedRight 0.5s ease-in-out infinite;
}

.stanley-character.state-talking .eyebrow-left-path {
  animation: eyebrowTalk 0.2s ease-in-out infinite;
}

.stanley-character.state-talking .eyebrow-right-path {
  animation: eyebrowTalkRight 0.2s ease-in-out infinite;
}

.stanley-character.state-thinking .eyebrow-left-path {
  animation: eyebrowThink 1s ease-in-out infinite;
}

.stanley-character.state-thinking .eyebrow-right-path {
  animation: eyebrowThinkRight 1s ease-in-out infinite;
}

/* Estado idle - sem animação nas sobrancelhas */
.stanley-character.state-idle .eyebrow {
  animation: none;
}

/* Keyframes */
@keyframes appear {
  from {
    opacity: 0;
    transform: scale(0) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes disappear {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0) translateY(-20px);
  }
}

@keyframes idle {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-5px) scale(1.02);
  }
}

@keyframes talking {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-8px) scale(1.05);
  }
}

@keyframes excited {
  0%,
  100% {
    transform: translateY(0) scale(1) rotate(0deg);
  }
  25% {
    transform: translateY(-10px) scale(1.1) rotate(-5deg);
  }
  75% {
    transform: translateY(-10px) scale(1.1) rotate(5deg);
  }
}

@keyframes thinking {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-3px) scale(0.98);
  }
}

@keyframes eyeTalk {
  0%,
  100% {
    transform: scaleY(1);
  }
  50% {
    transform: scaleY(0.7);
  }
}

@keyframes eyeExcited {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

@keyframes eyeThink {
  0%,
  100% {
    transform: translateX(0) scaleY(1);
  }
  25% {
    transform: translateX(1.5px) scaleY(0.7);
  }
  50% {
    transform: translateX(3px) scaleY(0.6);
  }
  75% {
    transform: translateX(1.5px) scaleY(0.7);
  }
}

@keyframes angry {
  0%,
  100% {
    transform: translateY(0) scale(1) rotate(0deg);
  }
  25% {
    transform: translateY(-5px) scale(1.08) rotate(-8deg);
  }
  75% {
    transform: translateY(-5px) scale(1.08) rotate(8deg);
  }
}

@keyframes eyeAngry {
  0%,
  100% {
    transform: scaleY(1) scaleX(1);
  }
  50% {
    transform: scaleY(0.3) scaleX(1.1);
  }
}

/* Transform base para sobrancelhas - aplicado via CSS ao invés de inline */
.eyebrow-left-path {
  transform: translate(-12px, -12px) scale(1.2, 1.2);
}

.eyebrow-right-path {
  transform: translate(-12px, -12px) scale(-1.2, 1.2);
}

@keyframes eyebrowAngry {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(0deg);
  }
  50% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(-2deg);
  }
}

@keyframes eyebrowAngryRight {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0deg);
  }
  50% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(-30deg);
  }
}

@keyframes eyebrowAngryLeft {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0deg);
  }
  50% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(-30deg);
  }
}

@keyframes eyebrowExcited {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) scaleY(1);
  }
  50% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) scaleY(1.08);
  }
}

@keyframes eyebrowExcitedRight {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) scaleY(1);
  }
  50% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) scaleY(1.08);
  }
}

@keyframes eyebrowTalk {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) scaleY(1);
  }
  50% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) scaleY(0.95);
  }
}

@keyframes eyebrowTalkRight {
  0%,
  100% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) scaleY(1);
  }
  50% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) scaleY(0.95);
  }
}

@keyframes eyebrowThink {
  0% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(0deg)
      translateY(0px);
  }
  25% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(-0.5deg)
      translateY(-2px);
  }
  50% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(-1deg)
      translateY(-4px);
  }
  75% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(-0.5deg)
      translateY(-2px);
  }
  100% {
    transform: translate(-12px, -12px) scale(1.2, 1.2) rotate(0deg)
      translateY(0px);
  }
}

@keyframes eyebrowThinkRight {
  0% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0deg)
      translateY(0px);
  }
  25% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0.5deg)
      translateY(2px);
  }
  50% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(1deg)
      translateY(4px);
  }
  75% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0.5deg)
      translateY(2px);
  }
  100% {
    transform: translate(-12px, -12px) scale(-1.2, 1.2) rotate(0deg)
      translateY(0px);
  }
}
